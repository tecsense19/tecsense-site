import{r as a,j as e,L as k,c as p,f as b}from"./index-BEJtJw7z.js";import{B as I}from"./Breadcrumb-DVY1UNav.js";import{I as M}from"./index-BdI6QAVm.js";import{P as T}from"./PageSEO-hPNNrkGD.js";const F=()=>{const[j,_]=a.useState(null),[n,C]=a.useState("All"),[v,N]=a.useState(["All"]),[x,y]=a.useState([]),[i,w]=a.useState(null),[S,A]=a.useState(!0),[g,u]=a.useState(6);if(a.useEffect(()=>{const t=new AbortController;let l=!0;const d=async()=>{try{const s=await b("pages?slug=blog",{signal:t.signal});if(!l||!s||s.length===0)return;_(s[0].yoast_head_json||null),w(s[0])}catch(s){s.name!=="AbortError"&&console.error("Error fetching blog page data:",s)}},m=async()=>{try{const s=await b("posts?per_page=100&_embed",{signal:t.signal});if(!l)return;const f=new Set;s.forEach(E=>{E._embedded?.["wp:term"]?.[0]?.forEach(L=>f.add(L.name))}),N(["All",...Array.from(f)]),y(s)}catch(s){s.name!=="AbortError"&&console.error("Error fetching posts:",s)}};return(async()=>{await Promise.all([d(),m()]),l&&A(!1)})(),()=>{l=!1,t.abort()}},[]),S)return e.jsx(k,{});const h=i?.acf?.theme_builder?.find(t=>t.acf_fc_layout==="breadcrumb")||null,r=i?.acf?.theme_builder?.find(t=>t.acf_fc_layout==="blogs")||null,o=i?.acf?.theme_builder?.find(t=>t.acf_fc_layout==="home_where_we_makes_waves")||null,c=n==="All"?x:x.filter(t=>t._embedded?.["wp:term"]?.[0]?.some(l=>l.name===n)),D=c.slice(0,g),P=()=>u(t=>t+6);return e.jsxs(e.Fragment,{children:[e.jsx(T,{yoast:j}),e.jsx(I,{title:h?.page_title,description:h?.page_description}),e.jsx("section",{className:"py-15 md:py-25 lg:py-38 relative",children:e.jsxs("div",{className:"max-w-[1760px] m-auto px-5",children:[e.jsxs("div",{className:"flex justify-between items-center gap-3",children:[e.jsx("div",{children:e.jsx("span",{className:"text-lg font-semibold text-black/60",children:r?.blogs_title})}),e.jsx("div",{children:e.jsxs("span",{className:"text-lg font-semibold text-black/60",children:["/00",r?.section_number]})})]}),e.jsx("div",{className:"my-8 md:my-12",children:e.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-light text-[#2C2C2C]",dangerouslySetInnerHTML:{__html:r?.tips_title}})}),e.jsxs("div",{className:"blogtab",children:[e.jsx("div",{className:"flex gap-6 flex-wrap items-center",children:v.map((t,l)=>e.jsx("div",{className:"tabbutton",children:e.jsx("button",{onClick:()=>{C(t),u(6)},className:`text-xl font-medium px-5 py-3 border border-[#2C2C2C]/12 outline-0 cursor-pointer duration-500 ${n===t?"bg-[#2C2C2C] text-white":"text-[#2C2C2C] hover:bg-[#2C2C2C] hover:text-white"}`,dangerouslySetInnerHTML:{__html:t}})},l))}),e.jsx("div",{className:"mt-10 md:mt-15 lg:mt-20",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-4 lg:gap-x-12 gap-y-10 lg:gap-y-15",children:[D.map(t=>{const l=t.featured_image_url||t._embedded?.["wp:featuredmedia"]?.[0]?.source_url||"/placeholder.jpg",d=t._embedded?.["wp:term"]?.[0]?.[0]?.name||"Uncategorized",m=new Date(t.date).toLocaleDateString("en-GB");return e.jsxs("div",{className:"tabpanel group duration-500 flex flex-col justify-between",children:[e.jsxs("div",{className:"blogtext",children:[e.jsx("div",{className:"blogimage overflow-hidden",children:e.jsx("img",{src:l,className:"group-hover:scale-105 duration-500 w-full",alt:t.title.rendered})}),e.jsxs("ul",{className:"flex gap-5 items-center mt-7 pb-6",children:[e.jsx("li",{className:"list-disc ms-5 text-base lg:text-lg xl:text-xl font-medium text-[#2C2C2C]/60 leading-7",children:m}),e.jsx("li",{className:"list-disc ms-5 text-base lg:text-lg xl:text-xl font-medium text-[#2C2C2C]/60 leading-7",dangerouslySetInnerHTML:{__html:d}})]}),e.jsx(p,{to:`/blog/${t.slug}`,children:e.jsx("h3",{className:"text-xl md:text-2xl xl:text-3xl text-[#2C2C2C] font-medium xl:leading-10",dangerouslySetInnerHTML:{__html:t.title.rendered}})})]}),e.jsx("div",{className:"border-b border-[#2C2C2C] text-end mt-5",children:e.jsxs(p,{to:`/blog/${t.slug}`,className:"relative inline-block text-base lg:text-lg xl:text-xl font-medium text-white px-3 py-1",children:[e.jsx("span",{className:"relative z-10 mr-3",children:"Read More"}),e.jsx("i",{className:"fa-solid fa-angle-right relative z-10"}),e.jsx("div",{className:"absolute top-0 right-0 bg-[#2C2C2C] duration-500 w-full lg:w-[36px] group-hover:w-full h-full z-0"})]})})]},t.id)}),c.length===0&&e.jsx("div",{className:"col-span-3 text-center text-base lg:text-lg xl:text-xl text-gray-600",children:"No blog posts in this category."})]})})]}),g<c.length&&e.jsx("div",{className:"text-center mt-10 md:mt-15 lg:mt-24",children:e.jsxs("button",{onClick:P,className:"group text-xl text-[#2C2C2C] font-medium flex items-center gap-5 w-fit m-auto cursor-pointer",children:[e.jsxs("p",{className:"relative overflow-hidden",children:[e.jsx("span",{className:"relative top-[0px] left-0 group-hover:top-[-24px] duration-200",children:r?.load_more_button_title}),e.jsx("span",{className:"absolute top-[24px] left-0 group-hover:top-[0px] duration-200",children:r?.load_more_button_title})]}),e.jsx("span",{className:"w-10 h-10 flex items-center justify-center border-2 boder-[#2C2C2C]",children:e.jsx("i",{className:"fa-solid fa-plus group-hover:rotate-x-180 duration-200"})})]})})]})}),o&&e.jsx(M,{smalltitle:o?.where_we_make_waves_title,maintitle:o?.trusted_title,sectionnumber:`/00${o?.section_number}`})]})};export{F as default};
